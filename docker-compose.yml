version: '3.8'

services:
  chatterbox-api:
    build:
      context: .
      dockerfile: Dockerfile
    image: chatterbox-api:latest
    container_name: chatterbox-api
    ports:
      - "5001:5001"
    volumes:
      # Mount the local directory to /app in the container for live code reloading
      # and so the container can access reference.mp3
      - .:/app
    environment:
      - PYTHONUNBUFFERED=1
    # Note: Torch audio models will be downloaded inside the container the first time
    # it runs. If you want to persist the Hugging Face cache across rebuilds,
    # you can uncomment the lines below:
    # volumes:
    #   - .:/app
    #   - huggingface-cache:/root/.cache/huggingface

    # volumes:
    #   huggingface-cache:
